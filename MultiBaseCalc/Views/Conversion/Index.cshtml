@using (Html.BeginForm("ConvertNumber", "Conversion", FormMethod.Post))
{
    @using (Html.BeginForm("ConvertNumber", "Conversion", FormMethod.Post))
    {
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group mb-3">
            <label class="form-label">Number:</label>
            @Html.TextBox("number", null, new { @class = "form-control", required = "required" })
        </div>

        <div class="form-group mb-3">
            <label class="form-label">Source Base:</label>
            @Html.DropDownList("fromBase",
                    new SelectList(ViewBag.Bases),
                    new { @class = "form-select" })
        </div>

        <div class="form-group mb-3">
            <label class="form-label">Target Base:</label>
            @Html.DropDownList("toBase",
                    new SelectList(ViewBag.Bases),
                    new { @class = "form-select" })
        </div>

        <button type="submit" class="btn btn-primary mt-3">Convert</button>
    }
}

@if (ViewBag.Result != null)
{
    <div>
        <h3>Результат: @ViewBag.Result</h3>
    </div>
}

@if (ViewBag.Error != null)
{
    <div>
        <h3 style="color: red;">@ViewBag.Error</h3>
    </div>
}

@if (ViewBag.PreviousResults != null && ViewBag.PreviousResults.Count > 0)
{
    <div>
        <h3>Попередні обчислення:</h3>
        <ul>
            @foreach (var result in ViewBag.PreviousResults as List<string>)
            {
                <li>@result</li>
            }
        </ul>
    </div>
}
